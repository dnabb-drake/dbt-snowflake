models:
  - name: customer_loyalty_metrics
    description: The customer_loyalty_metrics model aggregates customer data from the raw_customer_customer_loyalty table and combines it with order data from the raw_pos_order_header table. It calculates total sales for each customer and provides a list of distinct locations visited by the customer. This model is useful for analyzing customer loyalty and behavior based on their purchase history and visited locations.
    columns:
      - name: customer_id
        description: A unique identifier for each customer, used to track customer-specific data and metrics.
        data_type: number
      - name: city
        description: The city where the customer resides, providing geographic context for analysis.
        data_type: varchar
      - name: country
        description: The country where the customer resides, useful for regional or global segmentation.
        data_type: varchar
      - name: first_name
        description: The first name of the customer as recorded in the customer loyalty database.
        data_type: varchar
      - name: last_name
        description: The last name of the customer as recorded in the customer loyalty database.
        data_type: varchar
      - name: phone_number
        description: The phone number of the customer, used for contact purposes and stored in the customer loyalty database.
        data_type: varchar
      - name: e_mail
        description: The email address of the customer, used for communication and identification purposes.
        data_type: varchar
      - name: total_sales
        description: The total monetary value of all orders placed by the customer, calculated as the sum of order totals.
        data_type: number
      - name: visited_location_ids_array
        description: An array containing distinct location IDs that the customer has visited, representing the locations associated with their orders.
        data_type: array
